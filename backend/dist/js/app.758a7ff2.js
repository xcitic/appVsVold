(function(e){function t(t){for(var r,i,o=t[0],c=t[1],u=t[2],l=0,p=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);g&&g(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,i=1;i<n.length;i++){var o=n[i];0!==a[o]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},i={app:0},a={app:0},s=[];function o(e){return c.p+"js/"+({login:"login",register:"register"}[e]||e)+"."+{login:"b88cbb07",register:"b4ae0468"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={login:1,register:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var r="css/"+({login:"login",register:"register"}[e]||e)+"."+{login:"a6f214eb",register:"420f5e72"}[e]+".css",a=c.p+r,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===a))return t()}var p=document.getElementsByTagName("style");for(o=0;o<p.length;o++){u=p[o],l=u.getAttribute("data-href");if(l===r||l===a)return t()}var g=document.createElement("link");g.rel="stylesheet",g.type="text/css",g.onload=t,g.onerror=function(t){var r=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete i[e],g.parentNode.removeChild(g),n(s)},g.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(g)})).then((function(){i[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(e);var p=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(g);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",p.name="ChunkLoadError",p.type=r,p.request=i,n[1](p)}a[e]=void 0}};var g=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var p=0;p<u.length;p++)t(u[p]);var g=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1c29":function(e,t,n){},"1c5e":function(e,t,n){"use strict";n("96a3")},"1ec4":function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),i=n("a65d"),a=n.n(i);r["a"].use(a.a,{theme:"toasted-primary",position:"top-center",duration:"2500"})},"2ea6":function(e,t,n){"use strict";n("ac43")},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"userService",(function(){return Ne})),n.d(t,"logService",(function(){return Be})),n.d(t,"fileService",(function(){return Ee}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],s=(n("96cf"),n("1da1")),o={name:"App",mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("checkAuthentication");case 2:case"end":return t.stop()}}),t)})))()}},c=o,u=(n("5c0b"),n("2877")),l=Object(u["a"])(c,i,a,!1,null,null,null),p=l.exports,g=(n("45fc"),n("d3b7"),n("8c4f")),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("NavBar"),n("div",{directives:[{name:"show",rawName:"v-show",value:e.firstTimeVisit,expression:"firstTimeVisit"}]},[n("FirstTimeVisit")],1),n("div",{staticClass:"border-container log-container"},[n("div",{staticClass:"log-button-main"},[n("button",{staticClass:"btn-main",on:{click:e.goToLogg}},[e._v("Logg")])])]),n("div",{staticClass:"border-container help-container"},[n("h1",{staticClass:"help-container-heading"},[e._v("Hjelpelinje og informasjon")]),n("p",{staticClass:"help-container-text"},[e._v(" List over viktige nummer, relevante artikler og mer informasjon om ressurser man kan benytte seg av. ")]),n("button",{staticClass:"btn-main",on:{click:e.goToHelpLine}},[e._v("Les mer")])])],1)},d=[],m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[e._v(" First time your visiting, you'll see this :) "),n("button",{on:{click:function(t){return t.preventDefault(),e.hasVisited(t)}}},[e._v("Lukk")])])},h=[],v={name:"FirstTimeVisit",methods:{hasVisited:function(){this.$store.dispatch("updateHasVisited")}}},b=v,w=Object(u["a"])(b,m,h,!1,null,"11d9be15",null),k=w.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar"},[e.mainPage?n("Settings"):n("div",{on:{click:e.goBack}},[n("svg",{staticStyle:{width:"4rem",height:"4rem"},attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentColor",d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}})])])],1)},L=[],y=(n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings"},[e.isSettingsOpen?n("div",{staticClass:"settingsDropDown"},[n("div",{staticClass:"settingsbar__heading"},[n("svg",{staticClass:"settingsIcon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},on:{click:e.toggleSettingsBar}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})]),n("div",{staticClass:"settingsbar__heading--text"},[e._v("Innstillinger")])]),n("div",{staticClass:"settingsbar__list"},[e._m(0),e._m(1),e._m(2),e._m(3),n("div",{staticClass:"settingsbar__section",on:{click:e.logout}},[n("span",{staticClass:"icon"}),n("p",{staticClass:"text"},[e._v("Logg ut")])])])]):n("div",[n("svg",{staticClass:"settingsIcon",attrs:{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 24 24",viewBox:"0 0 24 24"},on:{click:e.toggleSettingsBar}},[n("g",[n("path",{attrs:{d:"M0,0h24v24H0V0z",fill:"none"}}),n("path",{attrs:{d:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"}})])])])])}),O=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settingsbar__section"},[n("span",{staticClass:"icon"}),n("p",{staticClass:"text"},[e._v("Min konto")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settingsbar__section"},[n("span",{staticClass:"icon"}),n("p",{staticClass:"text"},[e._v("Varsler")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settingsbar__section"},[n("span",{staticClass:"icon"}),n("p",{staticClass:"text"},[e._v("Hjelp")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settingsbar__section"},[n("span",{staticClass:"icon"}),n("p",{staticClass:"text"},[e._v("SprÃ¥k")])])}],S=n("f1ad"),j=n.n(S),_={name:"Settings",components:{SettingsIcon:j.a},data:function(){return{isSettingsOpen:!1}},methods:{toggleSettingsBar:function(){this.isSettingsOpen=!this.isSettingsOpen},logout:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("userLogout");case 2:e.$router.push({name:"Login"});case 3:case"end":return t.stop()}}),t)})))()}}},C=_,T=(n("d382"),Object(u["a"])(C,y,O,!1,null,null,null)),R=T.exports,$={name:"NavBar",components:{Settings:R},computed:{mainPage:function(){return"Home"==this.$route.name}},methods:{goBack:function(){this.$router.back()}}},I=$,V=(n("da51"),Object(u["a"])(I,x,L,!1,null,"76142ebf",null)),F=V.exports,N={name:"Home",components:{FirstTimeVisit:k,NavBar:F},computed:{firstTimeVisit:function(){return this.$store.state.firstTimeVisit}},methods:{goToLogg:function(){this.$router.push({name:"Log"})},goToHelpLine:function(){this.$router.push({name:"HelpLine"})}}},B=N,E=(n("b7a0"),Object(u["a"])(B,f,d,!1,null,"7a8c42ec",null)),A=E.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("NavBar"),n("CreateLog"),n("LogList")],1)},H=[],U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"border-container create-log"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"title",attrs:{type:"text",placeholder:"Tittel"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"description",attrs:{name:"description",cols:"30",rows:"10",placeholder:"Beskriv hendelsen"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}}),n("div",{staticClass:"add-items-container"},[n("Datetime",{attrs:{type:"datetime",placeholder:"Velg dato og tidspunkt",zone:"Europe/Oslo",phrases:e.datePicker.buttons,"input-style":"flex: 1; padding: 1rem; margin-right: 1.5rem;"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),n("input",{staticClass:"add-items-button",attrs:{type:"text",placeholder:"Skriv inn sted"}})],1),n("div",{staticClass:"add-items-container"},[n("label",{staticClass:"add-items-button",attrs:{for:"addFiles"}},[e._v("Legg til filer")]),n("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"addFiles",multiple:""},on:{change:e.addFiles}})]),n("button",{staticClass:"btn-main save-log",attrs:{disabled:e.hasBeenSubmitted},on:{click:e.saveLog}},[e._v(" Lagre ")])])])},D=[],M=(n("a4d3"),n("e01a"),n("99af"),n("2909")),q=n("859b"),J=(n("d355"),n("1315"));J["Settings"].defaultLocale="nb-NO";var z={name:"CreateLog",components:{Datetime:q["Datetime"]},data:function(){return{title:"",description:"",files:[],questionair:null,date:null,hasBeenSubmitted:!1,datePicker:{buttons:{ok:"Velg",cancel:"Avbryt"}},uploadingFiles:!1}},computed:{formHasBeenFilled:function(){return!!(this.title&&this.date&&this.description)}},methods:{addFiles:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.target.files||e.dataTransfer.files,!(r.length>0)){n.next=4;break}return n.next=4,t.uploadFiles(r);case 4:case"end":return n.stop()}}),n)})))()},uploadFiles:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.uploadingFiles=!0,n.prev=1,n.next=4,Ee.uploadFiles(e);case 4:r=n.sent,t.files=[].concat(Object(M["a"])(t.files),Object(M["a"])(r)),t.uploadingFiles=!1,n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](1),t.$toasted.error("Noe gikk galt med filopplastingen. PrÃ¸v igjen.");case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()},saveLog:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.formHasBeenFilled){t.next=3;break}return e.$toasted.info("Fyll ut skjemaet fÃ¸r du lagrer."),t.abrupt("return");case 3:if(e.hasBeenSubmitted=!0,!e.uploadingFiles){t.next=8;break}return e.$toasted.info("Laster fortsatt opp filer. PrÃ¸ver automatisk Ã¥ lagre logg igjen om noen sekunder."),t.next=8,setTimeout((function(){e.saveLog()}),5e3);case 8:return n={title:e.title,description:e.description,files:e.files,date:e.date},t.prev=9,t.next=12,e.$store.dispatch("saveLog",n);case 12:return e.$toasted.success("LogfÃ¸ring lagret."),e.resetForm(),t.next=16,e.$store.dispatch("getAllLogs");case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](9),e.$toasted.error("Noe gikk galt. PrÃ¸v igjen.");case 21:case"end":return t.stop()}}),t,null,[[9,18]])})))()},resetForm:function(){this.title="",this.description="",this.questionair=null,this.date=null,this.hasBeenSubmitted=!1}}},W=z,G=(n("7470"),Object(u["a"])(W,U,D,!1,null,null,null)),K=G.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"border-container"},[n("p",{staticClass:"heading"},[e._v(" Liste over loggfÃ¸ringer ")]),e._l(e.previousLogs,(function(t,r){return n("div",{key:r,staticClass:"logitem",on:{click:function(n){return e.openLog(t)}}},[n("p",{staticClass:"date"},[e._v("Dato: "+e._s(new Date(t.date).toLocaleDateString()))]),n("p",{staticClass:"title"},[e._v(e._s(t.title))])])}))],2)},Q=[],X={name:"LogList",mounted:function(){0==this.previousLogs.length&&this.$store.dispatch("getAllLogs")},computed:{previousLogs:function(){return this.$store.state.logs}},methods:{openLog:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("setViewingLog",e);case 2:t.$router.push({name:"ViewLog",params:{id:e.id}});case 3:case"end":return n.stop()}}),n)})))()}}},Y=X,ee=(n("1c5e"),Object(u["a"])(Y,Z,Q,!1,null,"266559ac",null)),te=ee.exports,ne={name:"Log",components:{NavBar:F,CreateLog:K,LogList:te},methods:{goBack:function(){this.$router.push({name:"Home"})}}},re=ne,ie=Object(u["a"])(re,P,H,!1,null,null,null),ae=ie.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("NavBar"),e._v(" HelpLine ")],1)},oe=[],ce={name:"HelpLine",components:{NavBar:F},methods:{goBack:function(){this.$router.push({name:"Home"})}}},ue=ce,le=Object(u["a"])(ue,se,oe,!1,null,null,null),pe=le.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("NavBar"),e.isLoading?e._e():n("div",{staticClass:"border-container create-log"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.log.title,expression:"log.title"}],staticClass:"title",attrs:{type:"text",placeholder:"Tittel",disabled:""},domProps:{value:e.log.title},on:{input:function(t){t.target.composing||e.$set(e.log,"title",t.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.log.description,expression:"log.description"}],staticClass:"description",attrs:{name:"description",cols:"30",rows:"10",placeholder:"Beskriv hendelsen",disabled:""},domProps:{value:e.log.description},on:{input:function(t){t.target.composing||e.$set(e.log,"description",t.target.value)}}}),n("div",{staticClass:"viewlog__footer"},[n("div",{staticClass:"files"},[n("p",[e._v("Filer:")]),e._l(e.log.files,(function(t,r){return n("p",{key:r,staticClass:"uploadedFile",on:{click:function(n){return e.downloadFile(t.id,t.name)}}},[e._v(e._s("File "+(r+1)+": "+t.name))])}))],2)])])],1)},fe=[],de={name:"ViewLog",components:{NavBar:F},data:function(){return{comment:"",hasBeenSubmitted:!1,isLoading:!0}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.log){t.next=3;break}return t.next=3,e.$store.dispatch("getOneLog",e.$route.params.id);case 3:e.isLoading=!1;case 4:case"end":return t.stop()}}),t)})))()},computed:{log:function(){return this.$store.state.viewingLog}},methods:{saveComment:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.hasBeenSubmitted=!0,e.hasBeenSubmitted=!1;case 2:case"end":return t.stop()}}),t)})))()},downloadFile:function(e,t){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Ee.getFileFromAWS(n.log.id,e);case 3:i=r.sent,a=document.createElement("a"),a.style.display="none",document.body.appendChild(a),a.style.display="none",a.href=i,a.download=t,a.click(),r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](0),n.$toasted.error("Klarte ikke Ã¥ laste ned filen. PrÃ¸v igjen");case 16:case"end":return r.stop()}}),r,null,[[0,13]])})))()}}},me=de,he=(n("2ea6"),Object(u["a"])(me,ge,fe,!1,null,"4dfe3efd",null)),ve=he.exports;r["a"].use(g["a"]);var be=[{path:"/login",name:"Login",meta:{shouldNotBeLoggedIn:!0},component:function(){return n.e("login").then(n.bind(null,"a55b"))}},{path:"/register",name:"Register",meta:{shouldNotBeLoggedIn:!0},component:function(){return n.e("register").then(n.bind(null,"73cf"))}},{path:"",meta:{requiresLogin:!0},name:"Home",component:A},{path:"/log",meta:{requiresLogin:!0},name:"Log",component:ae},{path:"/log/view/:id",meta:{requiresLogin:!0},name:"ViewLog",props:!0,component:ve},{path:"/help-line",meta:{requiresLogin:!0},name:"HelpLine",component:pe},{path:"*",redirect:"/"}],we=new g["a"]({mode:"history",base:"/",routes:be});we.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.requiresLogin}))&&(we.app.$userService.isUserLoggedIn()?n():n("/login")),e.matched.some((function(e){return e.meta.shouldNotBeLoggedIn}))&&we.app.$userService.isUserLoggedIn()&&n("/home"),n()}));var ke=we,xe=n("2f62");r["a"].use(xe["a"]);var Le=new xe["a"].Store({state:{success:"",error:"",firstTimeVisit:!0,username:null,token:null,logs:[],viewingLog:null},mutations:{setError:function(e,t){e.error=t},setFirstTimeVisit:function(e){e.firstTimeVisit=!1},setUserInfo:function(e,t){e.firstTimeVisit=t.firstTimeVisit,e.username=t.username,e.token=t.token},clearUserInfo:function(e){e.username=null,e.token=null,e.firstTimeVisit=!0},setAllLogs:function(e,t){e.logs=Object(M["a"])(t)},addLog:function(e,t){e.logs=[t].concat(Object(M["a"])(e.logs))},setViewingLog:function(e,t){e.viewingLog=t}},actions:{updateHasVisited:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,Ne.updateFirstTimeVisit(!0);case 4:n.sent,t.commit("setFirstTimeVisit",!1),n.next=12;break;case 8:throw n.prev=8,n.t0=n["catch"](1),r("setError",n.t0),n.t0;case 12:case"end":return n.stop()}}),n,null,[[1,8]])})))()},userLogin:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,Ne.login(t);case 4:i=n.sent,r("setUserInfo",i),n.next=12;break;case 8:throw n.prev=8,n.t0=n["catch"](1),r("setError",n.t0),n.t0;case 12:case"end":return n.stop()}}),n,null,[[1,8]])})))()},userLogout:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Ne.logout();case 3:n("clearUserInfo");case 4:case"end":return t.stop()}}),t)})))()},userRegister:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,Ne.register(t);case 4:i=n.sent,r("setUserInfo",i),n.next=11;break;case 8:throw n.prev=8,n.t0=n["catch"](1),n.t0;case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},checkAuthentication:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,Ne.isLoggedIn&&(r={token:Ne.token,username:Ne.username,firstTimeVisit:Ne.firstTimeVisit},n("setUserInfo",r));case 2:case"end":return t.stop()}}),t)})))()},saveLog:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,Be.saveLog(t);case 4:i=n.sent,r("addLog",i),n.next=11;break;case 8:throw n.prev=8,n.t0=n["catch"](1),n.t0;case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},getAllLogs:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Be.getAllLogs();case 4:r=t.sent,n("setAllLogs",r),t.next=11;break;case 8:throw t.prev=8,t.t0=t["catch"](1),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},setViewingLog:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,r("setViewingLog",t);case 2:case"end":return n.stop()}}),n)})))()},getOneLog:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,Be.getOneLog(t);case 4:i=n.sent,r("setViewingLog",i),n.next=11;break;case 8:throw n.prev=8,n.t0=n["catch"](1),n.t0;case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()}},modules:{}}),ye=n("9483");Object(ye["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var Oe=n("d4ec"),Se=n("bee2"),je=n("ade3"),_e=function(){function e(t){Object(Oe["a"])(this,e),Object(je["a"])(this,"token",null),Object(je["a"])(this,"firstTimeVisit",!0),Object(je["a"])(this,"isLoggedIn",!1),Object(je["a"])(this,"username",null),Object(je["a"])(this,"apiService",void 0),this.apiService=t,this.checkIfTokenExists()}return Object(Se["a"])(e,[{key:"isUserLoggedIn",value:function(){return this.isLoggedIn}},{key:"checkIfTokenExists",value:function(){var e=localStorage.getItem("token");if(e){var t=this.getInfoFromLocalStorage();return this.setUserInfo(t),this.apiService.updateToken(this.token),!0}return!1}},{key:"setUserName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.username=e)}},{key:"login",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.apiService.apiCall("POST","/login",t);case 3:return n=e.sent,this.updateUserInfo(n),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"register",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.apiService.apiCall("POST","/register",t);case 3:return n=e.sent,e.next=6,this.updateUserInfo(n);case 6:return e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e["catch"](0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateUserInfo",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.setUserInfo(t),this.saveInLocalStorage(t),this.apiService.updateToken(t.token);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateFirstTimeVisit",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.apiService.apiCall("PUT","/api/firstimevisit");case 3:return t=e.sent,this.firstTimeVisit=!1,localStorage.setItem("firstTimeVisit",JSON.stringify(!1)),e.abrupt("return",t);case 9:throw e.prev=9,e.t0=e["catch"](0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"setUserInfo",value:function(e){this.token=e.token,this.firstTimeVisit=e.firstTimeVisit,this.username=e.username,this.isLoggedIn=!0}},{key:"saveInLocalStorage",value:function(e){localStorage.setItem("token",JSON.stringify(e.token)),localStorage.setItem("username",JSON.stringify(e.username)),localStorage.setItem("firstTimeVisit",JSON.stringify(e.firstTimeVisit))}},{key:"getInfoFromLocalStorage",value:function(){var e={};return e.token=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")):null,e.username=localStorage.getItem("username")?JSON.parse(localStorage.getItem("username")):null,e.firstTimeVisit=localStorage.getItem("firstTimeVisit")?JSON.parse(localStorage.getItem("firstTimeVisit")):null,e}},{key:"logout",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:localStorage.clear(),this.token=null,this.isLoggedIn=!1,this.username=null,this.apiService.updateToken(null);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Ce=n("bc3a"),Te=n.n(Ce),Re=function(){function e(){Object(Oe["a"])(this,e),Object(je["a"])(this,"endpoint","http://localhost:4000"),Object(je["a"])(this,"axiosConfig",void 0),Object(je["a"])(this,"token",void 0),this.axiosConfig=this.setAxiosConfig()}return Object(Se["a"])(e,[{key:"setAxiosConfig",value:function(){return Te.a.create({baseURL:this.endpoint,headers:{Token:"".concat(this.token),Accept:"application/json"}})}},{key:"updateToken",value:function(e){this.token=e,this.axiosConfig=this.setAxiosConfig()}},{key:"apiCall",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:null,e.prev=1,e.next=4,this.axiosConfig({method:t,url:n,data:r});case 4:return i=e.sent,e.abrupt("return",i.data);case 8:throw e.prev=8,e.t0=e["catch"](1),e.t0.response.data.message;case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),$e=function(){function e(t){Object(Oe["a"])(this,e),Object(je["a"])(this,"apiService",void 0),this.apiService=t}return Object(Se["a"])(e,[{key:"saveLog",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.apiService.apiCall("POST","/api/logs",t);case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAllLogs",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.apiService.apiCall("GET","/api/logs");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getOneLog",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.apiService.apiCall("GET","/api/logs/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Ie=n("b85c"),Ve=function(){function e(t){Object(Oe["a"])(this,e),Object(je["a"])(this,"apiService",void 0),this.apiService=t}return Object(Se["a"])(e,[{key:"uploadFiles",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=[],r=Object(Ie["a"])(t),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=22;break}return a=i.value,e.prev=6,e.next=9,this.apiService.apiCall("POST","/api/signed-url",{fileName:a.name,fileType:a.type});case 9:return s=e.sent,e.next=12,this.uploadFileToAWS(a,s.signedUrl);case 12:o=e.sent,c={name:s.fileName,url:o.url,fileType:o.data.type},n.push(c),e.next=20;break;case 17:throw e.prev=17,e.t0=e["catch"](6),e.t0;case 20:e.next=4;break;case 22:e.next=27;break;case 24:e.prev=24,e.t1=e["catch"](2),r.e(e.t1);case 27:return e.prev=27,r.f(),e.finish(27);case 30:return e.abrupt("return",n);case 31:case"end":return e.stop()}}),e,this,[[2,24,27,30],[6,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"uploadFileToAWS",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te.a.put(n,t);case 3:return r=e.sent,e.abrupt("return",r.config);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"buildFileObject",value:function(e,t){return{name:e.name,url:t,fileType:e.type}}},{key:"getFileFromAWS",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.apiService.apiCall("GET","/api/file/".concat(t,"/").concat(n));case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}();n("1ec4");var Fe=new Re,Ne=new _e(Fe),Be=new $e(Fe),Ee=new Ve(Fe);r["a"].prototype.$userService=Ne,r["a"].prototype.$apiService=Fe,r["a"].config.productionTip=!1,new r["a"]({router:ke,store:Le,render:function(e){return e(p)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"664b":function(e,t,n){},7470:function(e,t,n){"use strict";n("1c29")},"96a3":function(e,t,n){},"9c0c":function(e,t,n){},"9fec":function(e,t,n){},ac43:function(e,t,n){},b7a0:function(e,t,n){"use strict";n("9fec")},c08c:function(e,t,n){},d382:function(e,t,n){"use strict";n("c08c")},da51:function(e,t,n){"use strict";n("664b")},f1ad:function(e,t,n){e.exports=n.p+"img/settings-black-48dp.2c7f68ba.svg"}});
//# sourceMappingURL=app.758a7ff2.js.map